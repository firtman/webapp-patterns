{"pageProps":{"post":{"attributes":{},"html":"<h1 id=\"serving-images-with-service-worker\">Serving Images with Service Worker</h1>\n<p>Let&#39;s create a service worker file <code>sw.js</code> in the <em>root folder</em> of our project. The code will look like this:</p>\n<pre><code class=\"hljs language-js\">self.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&quot;fetch&quot;</span>, <span class=\"hljs-keyword\">async</span> event =&gt; {\n    event.<span class=\"hljs-title function_\">respondWith</span>(\n        \n        (<span class=\"hljs-keyword\">async</span> () =&gt; {\n            <span class=\"hljs-keyword\">const</span> cachedResponse = <span class=\"hljs-keyword\">await</span> caches.<span class=\"hljs-title function_\">match</span>(event.<span class=\"hljs-property\">request</span>);\n            <span class=\"hljs-keyword\">if</span> (cachedResponse) <span class=\"hljs-keyword\">return</span> cachedResponse;\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">fetch</span>(event.<span class=\"hljs-property\">request</span>);\n        })()\n            \n    );\n});\n</code></pre>\n<p>Also, in <code>app.js</code> we have to register the service worker file.</p>\n<pre><code class=\"hljs language-js\">navigator.<span class=\"hljs-property\">serviceWorker</span>.<span class=\"hljs-title function_\">register</span>(<span class=\"hljs-string\">&quot;/serviceworker.js&quot;</span>);\n</code></pre>\n","slug":"serving-images-with-service-worker copy","title":"Serving Images with Service Worker Copy","section":"Cache Storage","icon":"file-code","filePath":"/Users/firt/Library/Mobile Documents/com~apple~CloudDocs/Trainings/FEM/DataStorage/browser-storage/lessons/04-cache-storage/B-serving-images-with-service-worker copy.md","nextSlug":"/browser-storage/lessons/cache-storage/caching-app-shell","prevSlug":"/browser-storage/lessons/cache-storage/caching-images"}},"__N_SSG":true}