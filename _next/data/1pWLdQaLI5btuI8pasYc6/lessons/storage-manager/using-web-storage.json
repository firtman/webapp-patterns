{"pageProps":{"post":{"attributes":{},"html":"<h1 id=\"using-web-storage\">Using Web Storage</h1>\n<p>While we agreed on not to use Web Storage when possible, we will make a quick sample to test it and to see the Quota estimation, and how it looks like from a debugging tool point of view.</p>\n<p>Open <code>Order.js</code>, and add the following two methods:</p>\n<pre><code class=\"hljs language-js\">    <span class=\"hljs-attr\">load</span>: <span class=\"hljs-function\">() =&gt;</span> {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">localStorage</span>.<span class=\"hljs-title function_\">getItem</span>(<span class=\"hljs-string\">&#x27;cm-cart&#x27;</span>)) {\n            <span class=\"hljs-keyword\">try</span> {\n                <span class=\"hljs-title class_\">Order</span>.<span class=\"hljs-property\">cart</span> = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(<span class=\"hljs-variable language_\">localStorage</span>.<span class=\"hljs-title function_\">getItem</span>(<span class=\"hljs-string\">&#x27;cm-cart&#x27;</span>));                \n                <span class=\"hljs-title class_\">Order</span>.<span class=\"hljs-title function_\">render</span>();\n            } <span class=\"hljs-keyword\">catch</span> (e) {\n                <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(<span class=\"hljs-string\">&quot;Data in Web Storage is corrupted&quot;</span>);\n            }\n        }\n    }\n</code></pre>\n<pre><code class=\"hljs language-js\">    <span class=\"hljs-attr\">save</span>: <span class=\"hljs-function\">() =&gt;</span> {\n        <span class=\"hljs-variable language_\">localStorage</span>.<span class=\"hljs-title function_\">setItem</span>(<span class=\"hljs-string\">&#x27;cm-cart&#x27;</span>, <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(<span class=\"hljs-title class_\">Order</span>.<span class=\"hljs-property\">cart</span>));\n    }\n</code></pre>\n<p>Now call <code>Order.load()</code> when the page loads (use any event) and call <code>Order.save()</code> within <code>Order.render</code>;</p>\n<p>Now follow the next steps</p>\n<ol>\n<li>Add data to the Cart</li>\n<li>Open DevTools and find Local Storage, verify the data was saved</li>\n<li>Refresh the page and go the the Order, check that the data is still there</li>\n<li>Check the Quota estimation usage data, if available in the browser; you will see that Local Storage typically doesn&#39;t count for Storage Quota.</li>\n</ol>\n","slug":"using-web-storage","title":"Using Web Storage","section":"Storage Manager","icon":"tachometer-alt","filePath":"/Users/firt/Library/Mobile Documents/com~apple~CloudDocs/Trainings/FEM/DataStorage/browser-storage/lessons/02-storage-manager/C-using-web-storage.md","nextSlug":"/browser-storage/lessons/databases/setting-up-indexeddb","prevSlug":"/browser-storage/lessons/storage-manager/quota-estimation"}},"__N_SSG":true}