{"pageProps":{"post":{"attributes":{},"html":"<h1 id=\"upgrading-appjs\">Upgrading app.js</h1>\n<p>We will use ECMAScript modules, so open <code>index.html</code> and add <code>type=&quot;module&quot;</code> to the <code>script</code> tag.</p>\n<p>Add the following code:</p>\n<pre><code class=\"hljs language-js\">globalThis.<span class=\"hljs-property\">DOM</span> = {};\n\n<span class=\"hljs-comment\">// easy access within this file</span>\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">DOM</span> = globalThis.<span class=\"hljs-property\">DOM</span>;\n\n<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;DOMContentLoaded&#x27;</span>, <span class=\"hljs-function\">() =&gt;</span> {\n    <span class=\"hljs-comment\">// Create references we will need later</span>\n    <span class=\"hljs-variable constant_\">DOM</span>.<span class=\"hljs-property\">todoList</span> = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;todo-list&#x27;</span>);\n    <span class=\"hljs-variable constant_\">DOM</span>.<span class=\"hljs-property\">addBtn</span> = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;add-btn&#x27;</span>);\n    <span class=\"hljs-variable constant_\">DOM</span>.<span class=\"hljs-property\">todoInput</span> = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;todo-input&#x27;</span>);\n\n    <span class=\"hljs-comment\">// Event listeners</span>\n    <span class=\"hljs-variable constant_\">DOM</span>.<span class=\"hljs-property\">addBtn</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;click&#x27;</span>, <span class=\"hljs-function\">() =&gt;</span> {\n        <span class=\"hljs-comment\">// TODO</span>\n    });\n\n    <span class=\"hljs-variable constant_\">DOM</span>.<span class=\"hljs-property\">todoList</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;click&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">event</span>) =&gt;</span> {\n        <span class=\"hljs-keyword\">if</span> (event.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">classList</span>.<span class=\"hljs-title function_\">contains</span>(<span class=\"hljs-string\">&#x27;delete-btn&#x27;</span>)) {\n            <span class=\"hljs-comment\">// TODO</span>\n        }\n    });\n\n});\n</code></pre>\n<h1 id=\"folder-structure\">Folder structure</h1>\n<p>Create a folder webapp where we will put the rest of the JavaScript modules.</p>\n","slug":"the-new-appjs","title":"The New Appjs","section":"Classic Patterns","icon":"tachometer-alt","filePath":"/Users/firt/Library/Mobile Documents/com~apple~CloudDocs/Trainings/FEM2024/WebAppPatterns/companion-src/lessons/02-classic-patterns/B-the-new-appjs.md","nextSlug":"/webapp-patterns/lessons/classic-patterns/creating-observer-in-mixin","prevSlug":"/webapp-patterns/lessons/classic-patterns/checking-the-project"}},"__N_SSG":true}